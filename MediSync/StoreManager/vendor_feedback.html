
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vendor Feedback</title>
  <style>
    :root{
      --blue: #2C77B5;
      --green: #67B540;
      --ink: #131938;
      --gray: #ADADAD;
      --white: #FFFFFF;
      --bg: #f5f7fa;
      --surface: var(--white);
      --surface-2: #fcfcfb;
      --border: rgba(16, 50, 74, 0.14);
      --muted: #6c7a86;
      --shadow: 0 8px 24px rgba(17,17,17,.08);
      --shadow-2: 0 10px 30px rgba(16, 50, 74, .10);

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans";
      --sidebar-w: 300px;
      --navbar-h: 72px;
    }

    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0;
      font-family:var(--font);
      background:var(--bg); color:var(--ink);
      min-height:100%;
    }

    /* =========================
       APP GRID (header + sidebar + main)
       ========================= */
    .app{
      min-height: 100vh;
      display: grid;
      grid-template-rows: var(--navbar-h) 1fr;
      grid-template-columns: var(--sidebar-w) 1fr;
      grid-template-areas:
        "nav nav"
        "side main";
    }

    /* =========================
       HEADER (Navbar)
       ========================= */
    .navbar{
      grid-area: nav;
      position: sticky;
      top: 0;
      z-index: 50;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 16px;
      border-bottom: 1px solid var(--border);
      background: rgba(255,255,255,.75);
      backdrop-filter: blur(10px);
    }
    .nav-left, .nav-right{ display:flex; align-items:center; gap:12px; min-width:0; }
    .hamburger{
      display: none;
      border: 1px solid var(--border);
      background: var(--surface);
      color: #10324A;
      border-radius: 14px;
      padding: 10px 12px;
      cursor: pointer;
      box-shadow: var(--shadow);
      font-weight: 800;
    }
    .hamburger:focus{ outline:none; box-shadow: 0 0 0 4px rgba(51, 122, 183, .25), var(--shadow); }

    .brand{ display:flex; align-items:center; gap:12px; min-width:220px; }
    .logo{
      width: 44px; height: 44px; border-radius: 14px;
      background: conic-gradient(from 200deg, var(--blue), #5BC0DE, var(--green));
      box-shadow: var(--shadow-2);
      position: relative; flex: 0 0 auto;
    }
    .logo::after{ content:""; position:absolute; inset:10px; border-radius:10px; background: rgba(255,255,255,.88); }
    .brand-title{ display:grid; gap:2px; min-width:0; }
    .brand-title strong{ color: #10324A; font-size: 14px; letter-spacing: .2px; }
    .brand-title small{ color: var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px; border:1px solid var(--border);
      background: var(--surface); color: var(--muted); font-size:12px; white-space:nowrap;
    }
    .dot{ width:8px; height:8px; border-radius:50%; background: var(--green); box-shadow: 0 0 0 4px rgba(92,184,92,.18); }

    details.menu{ position: relative; }
    details.menu > summary{
      list-style:none; cursor:pointer; user-select:none; white-space:nowrap;
      padding:10px 12px; border-radius:14px; border:1px solid var(--border);
      background: var(--surface); box-shadow: var(--shadow); font-weight:800; color: #10324A;
    }
    details.menu > summary:focus{ box-shadow: 0 0 0 4px rgba(51, 122, 183, .25), var(--shadow); }
    details.menu > summary::-webkit-details-marker{ display:none; }
    .dropdown{
      position:absolute; right:0; top:52px; width:220px;
      background: var(--surface); border:1px solid var(--border); border-radius:14px;
      box-shadow: var(--shadow-2); padding:10px; z-index:60;
    }
    .dropdown a{ display:block; padding:10px 10px; border-radius:12px; color: var(--ink); font-weight:700; text-decoration:none; }
    .dropdown a:hover{ background: linear-gradient(90deg, rgba(51,122,183,.12), transparent); }

    /* =========================
       SIDEBAR (copy-paste block)
       ========================= */
    .sidebar{
      grid-area: side;
      padding: 16px;
      border-right: 1px solid var(--border);
      background: rgba(245, 251, 247, .65);
      backdrop-filter: blur(8px);
      position: sticky;
      top: var(--navbar-h);
      height: calc(100vh - var(--navbar-h));
      overflow: auto;
      z-index: 40;
    }
    .side-card{
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 18px;
      box-shadow: var(--shadow-2);
      padding: 14px;
    }
    .nav{ display: grid; gap: 12px; }
    .nav-item{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid transparent;
      background: linear-gradient(180deg, var(--surface-2), var(--surface));
      color: #10324A;
      font-weight: 800;
      text-decoration: none;
      box-shadow: 0 1px 0 rgba(16,50,74,.05) inset;
      white-space: nowrap;
      cursor: pointer;
    }
    .nav-item:hover{
      border-color: rgba(51,122,183,.25);
      transform: translateY(-1px);
      transition: transform .1s ease, box-shadow .14s ease, border-color .14s ease, background .14s ease;
      box-shadow: var(--shadow);
    }
    .badge{
      display:inline-flex; align-items:center; justify-content:center;
      width: 28px; height: 28px;
      border-radius: 999px;
      color: #3a5878;
      background: #e9f1f9;
      border: 1px solid rgba(51,122,183,.20);
      box-shadow: 0 2px 6px rgba(51,122,183,.15);
      font-weight: 900;
    }
    .nav-group > summary::-webkit-details-marker{ display: none; }
    .nav-group > summary:focus{ outline: none; box-shadow: 0 0 0 4px rgba(51, 122, 183, .25); }
    .nav-group[open] .badge{ transform: rotate(180deg); background: #dfeaf6; }
    /* Layout */
    main {
      max-width: 760px;
      margin: 24px auto;
      padding: 0 16px;
      display: grid;
      gap: 16px;
    }

    /* Status */
    #status {
      display: none;
      padding: 12px;
      border-radius: var(--radius);
      background: #fff6f6;
      color: #7a1f1f;
      border: 1px solid #ffd8d8;
    }

    /* Cards */
    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(19,25,56,0.06);
      overflow: hidden;
      width:800px;
    }
    .card-header {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px 18px;
      background: linear-gradient(135deg, rgba(44,119,181,0.08), rgba(103,181,64,0.06));
      border-bottom: 1px solid #e9eef6;
    }
    .avatar {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      overflow: hidden;
      flex: 0 0 56px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      border: 1px solid rgba(19,25,56,0.08);
    }
    .vendor-meta {
      display: grid;
      gap: 4px;
    }
    .vendor-name {
      font-weight: 800;
      font-size: 18px;
      color: var(--primary);
    }
    .vendor-sub {
      font-size: 13px;
      color: var(--text-muted);
    }

    .card-body {
      padding: 16px 18px;
    }

    fieldset {
      border: none;
      padding: 0;
      margin: 0;
    }

    legend {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 12px;
    }

    label {
      font-weight: 600;
      display: block;
      margin-bottom: 6px;
      color: var(--text);
    }

    select, textarea, input[type="text"] {
      width: 100%;
      padding: 12px;
      border-radius: var(--radius);
      border: 1px solid #e3e7ee;
      font-size: 15px;
      outline: none;
      background: #fafbfe;
      transition: border 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }
    select:focus, textarea:focus, input[type="text"]:focus {
      border-color: var(--primary);
      box-shadow: var(--focus-ring);
      background: #fff;
    }
    textarea { resize: vertical; }

    .char-counter {
      font-size: 12px;
      color: var(--text-muted);
      text-align: right;
      margin-top: 4px;
    }

    /* Stars */
    .stars {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
      user-select: none;
    }
    .star {
      font-size: 28px;
      cursor: pointer;
      color: #c7c7c7;
      transition: color 0.2s ease, transform 0.1s ease;
    }
    .star:hover { transform: translateY(-1px); }
    .star.selected, .star.hover { color: rgb(255, 217, 0); }

    /* Submit */
    .actions {
      display: flex;
      gap: 10px;
      margin-top: 14px;
    }
    button[type="submit"] {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 999px;
      font-weight: 600;
      cursor: pointer;
      background: var(--blue);
      color: #fff;
      font-size: 16px;
      box-shadow: 0 6px 16px rgba(103,181,64,.35);
      transition: transform 0.1s ease, box-shadow 0.2s ease;
    }
    button[type="submit"]:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(103,181,64,.45);
    }
    .btn-outline {
      padding: 14px;
      border-radius: 999px;
      border: 1px solid #e3e7ee;
      background: #fff;
      color: var(--text);
      font-weight: 600;
      cursor: pointer;
    }
    .btn-outline:hover { background: #f2f5fb; border-color: #cfd6e1; }
    /* Footer */
      /* =========================
       FOOTER (copy-paste block)
       ========================= */
    footer{
      margin-top: 24px;
      color: var(--muted);
      font-size: 12px;
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      padding: 10px 4px 0;
    }
    .footer-links{ display:flex; gap: 12px; flex-wrap: wrap; }

    /* =========================
       MOBILE DRAWER (sidebar/backdrop)
       ========================= */
    .backdrop{ display: none; } /* only shown on mobile */
    @media (max-width: 980px){
      .app{
        grid-template-columns: 1fr;
        grid-template-areas: "nav" "main";
      }
      .hamburger{ display:inline-flex; align-items:center; gap:8px; }

      .sidebar{
        position: fixed;
        top: var(--navbar-h);
        left: 0;
        width: min(var(--sidebar-w), 88vw);
        height: calc(100vh - var(--navbar-h));
        transform: translateX(-110%);
        transition: transform .18s ease;
        z-index: 80;
        box-shadow: var(--shadow-2);
        border-right: none;
      }
      body.sidebar-open .sidebar{ transform: translateX(0); }

      .backdrop{
        display:block;
        position: fixed; inset: var(--navbar-h) 0 0 0;
        background: rgba(17,17,17,.35);
        opacity: 0; pointer-events: none; transition: opacity .18s ease; z-index: 70;
      }
      body.sidebar-open .backdrop{ opacity: 1; pointer-events: auto; }
    }
  </style>
</head>
<body>
  <div class="app">

    <!-- =========================================
         HEADER (Navbar) — reusable across pages
         ========================================= -->
    <header class="navbar" role="banner" aria-label="Navbar">
      <div class="nav-left">
        <button class="hamburger" id="sidebarToggle" type="button"
                aria-label="Toggle sidebar" aria-expanded="false" aria-controls="sidebar">
          ☰ <span style="font-weight:900;">Menu</span>
        </button>

        <div class="brand" aria-label="Brand">
          <div class="logo" aria-hidden="true"></div>
          <div class="brand-title">
            <strong>Store Manager Portal</strong>
            <small>MediSync · Store Manager</small>
            
          </div>
        </div>
      </div>

      <div class="nav-right" aria-label="Account and status">
        <span class="pill" title="System status">
          <span class="dot" aria-hidden="true"></span>
          Online
        </span>

        <details class="menu" id="accountMenu">
          <summary aria-label="Open account menu">Account</summary>
          <nav class="dropdown" aria-label="Account options">
            <a href="../Common Features/index.html" id="logoutLink">Logout</a>
          </nav>
        </details>
      </div>
    </header>

    <!-- =========================================
         SIDEBAR (Reusable block — copy/paste)
         ========================================= -->
    <aside class="sidebar" id="sidebar" aria-label="Sidebar">
      <div class="side-card">
        <nav class="nav" aria-label="Primary Sidebar">
          <details class="nav-group">
            <summary class="nav-item">
            <a href="sm2_dashboard.html"><span>Dashboard</span></a>
              <span class="badge">›</span>
            </summary>
          </details>

          <details class="nav-group">
            <summary class="nav-item">
            <a href="sm2_dashboard.html#stockEntry"><span>Stock Entry</span></a>
              <span class="badge">›</span>
            </summary>
          </details>

          <details class="nav-group">
            <summary class="nav-item">
            <a href="sm2_dashboard.html#dispatch"><span>Dispatch Status</span></a>
              <span class="badge">›</span>
            </summary>
          </details>

          <details class="nav-group">
            <summary class="nav-item">
              <span>Browse Bids</span>
              <span class="badge">›</span>
            </summary>
          </details>
        </nav>
      </div>
    </aside>

    <!-- Backdrop for mobile drawer -->
    <div class="backdrop" id="backdrop" aria-hidden="true"></div>

  <main>
    <div id="status" aria-live="polite"></div>

    <!-- Vendor info card -->
    <div class="card" id="vendorCard">
      <div class="card-header">
        <img id="vendorAvatar" class="avatar" alt="Vendor avatar" />
        <div class="vendor-meta">
          <div class="vendor-name" id="vendorName">MedCare Supplies Pvt Ltd</div>
          <div class="vendor-sub">
            <span id="vendorIdLabel">Vendor ID: <strong id="vendorId">123</strong></span> •
            <span id="vendorContact">Contact: +91-9876543210</span>
          </div>
        </div>
      </div>
      <div class="card-body">
        <p style="margin:0;color:var(--text-muted);">
          Please share your experience to help us improve service quality.
        </p>
      </div>
    </div>

    <!-- Feedback form card -->
    <div class="card">
      <div class="card-body">
        <form id="feedbackForm" novalidate>
          <input type="hidden" name="vendorId" id="vendorIdHidden" value="123" />

          <fieldset>
            <legend>Feedback</legend>

            <label for="rating">Rating (required):</label>
            <div class="stars" id="starContainer" aria-label="Select rating from 1 to 5">
              <span class="star" data-value="1" aria-label="1 star">★</span>
              <span class="star" data-value="2" aria-label="2 stars">★</span>
              <span class="star" data-value="3" aria-label="3 stars">★</span>
              <span class="star" data-value="4" aria-label="4 stars">★</span>
              <span class="star" data-value="5" aria-label="5 stars">★</span>
            </div>
            <input type="hidden" id="rating" name="rating" required />

            <label for="comments">Comments (optional, max 500 chars):</label>
            <textarea id="comments" name="comments" maxlength="500" rows="5" placeholder="Share your experience (up to 500 characters)"></textarea>
            <div class="char-counter" id="charCounter">0 / 500</div>

            <p style="font-size:13px;color:var(--text-muted);margin-top:8px;">
              Rating is required. Comments are optional (max 500 characters).
            </p>
          </fieldset>

          <div class="actions">
            <button type="button" class="btn-outline" id="clearBtn">Clear</button>
            <button type="submit" id="submitBtn">Submit Feedback</button>
          </div>
        </form>
      </div>
    </div>
      <footer>
        <span>© <span id="footer-year"></span> Store Management</span>
        <div class="footer-links">
          <a href="#">Help</a>
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
        </div>
      </footer>
  </main>
 
  </div>
  <script>
    (function(){
    const logoutLink = document.getElementById('logoutLink');

    logoutLink?.addEventListener('click', (ev) => {
      // Show native confirm dialog
      const ok = window.confirm('Are you sure you want to log out?');
      if (!ok) {
        // Cancel navigation
        ev.preventDefault();
        return;
      }
      // Optional: show a quick message before redirect (for UX)
      // Then continue to the link’s href (default behavior)
      // If you want to redirect manually:
      // ev.preventDefault();
      // window.location.href = logoutLink.href;
    });
  })();
    (function(){
      // Mobile drawer controls (sidebar)
      const sidebarToggle = document.getElementById('sidebarToggle');
      const backdrop = document.getElementById('backdrop');
      const body = document.body;

      sidebarToggle?.addEventListener('click', () => {
        const open = body.classList.toggle('sidebar-open');
        sidebarToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
      backdrop?.addEventListener('click', () => {
        body.classList.remove('sidebar-open');
        sidebarToggle?.setAttribute('aria-expanded', 'false');
      });

      // Account menu: close when clicking outside
      document.addEventListener('click', (ev) => {
        const details = document.getElementById('accountMenu');
        if (!details) return;
        const inMenu = ev.target.closest('#accountMenu');
        if (!inMenu) details.open = false;
      });

      // Footer year
      const fy = document.getElementById('footer-year');
      if (fy) fy.textContent = new Date().getFullYear();

      // Optional: read rfqId from URL query string and show somewhere (element must exist)
      /*
      const params = new URLSearchParams(window.location.search);
      const id = params.get('rfqId');
      if(id){ document.getElementById('rfqId').textContent = id; }
      */
    })();
    // Demo vendor details (could come from query params or API)
    const vendor = {
      id: "123",
      name: "MedCare Supplies Pvt Ltd",
      contact: "+91-9876543210"
    };

    // Avatar SVG generator using theme colors
    function avatarSVG(name) {
      const colors = ["#2C77B5","#67B540","#131938","#ADADAD"];
      const color = colors[(name || "").length % colors.length];
      const initials = (name || "V").split(/\s+/).map(w => w[0]).slice(0,2).join("").toUpperCase();
      const svg =
        `<svg xmlns='http://www.w3.org/2000/svg' width='72' height='72'>
          <defs>
            <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
              <stop offset='0%' stop-color='${color}' />
              <stop offset='100%' stop-color='#0f1a34' />
            </linearGradient>
          </defs>
          <rect width='100%' height='100%' rx='36' fill='url(#g)' />
          <text x='50%' y='56%' text-anchor='middle' font-size='26' font-family='Segoe UI, Roboto, Arial' fill='white' opacity='0.92'>
            ${initials}
          </text>
        </svg>`;
      return "data:image/svg+xml;utf8," + encodeURIComponent(svg);
    }

    // Populate vendor header
    document.getElementById("vendorName").textContent = vendor.name;
    document.getElementById("vendorId").textContent = vendor.id;
    document.getElementById("vendorIdHidden").value = vendor.id;
    document.getElementById("vendorContact").textContent = "Contact: " + vendor.contact;
    document.getElementById("vendorAvatar").src = avatarSVG(vendor.name);
    document.getElementById("vendorAvatar").alt = vendor.name + " logo";

    // Rating (stars)
    const stars = document.querySelectorAll(".star");
    const ratingInput = document.getElementById("rating");

    stars.forEach((star, idx) => {
      // hover visual
      star.addEventListener("mouseenter", () => {
        for (let i = 0; i <= idx; i++) stars[i].classList.add("hover");
      });
      star.addEventListener("mouseleave", () => {
        stars.forEach(s => s.classList.remove("hover"));
      });

      // select
      star.addEventListener("click", () => {
        const value = Number(star.dataset.value);
        ratingInput.value = value;
        stars.forEach(s => s.classList.remove("selected"));
        for (let i = 0; i < value; i++) stars[i].classList.add("selected");
      });
    });

    // Character counter
    const comments = document.getElementById("comments");
    const charCounter = document.getElementById("charCounter");
    comments.addEventListener("input", () => {
      charCounter.textContent = `${comments.value.length} / 500`;
    });

    // Clear
    document.getElementById("clearBtn").addEventListener("click", () => {
      ratingInput.value = "";
      stars.forEach(s => s.classList.remove("selected", "hover"));
      comments.value = "";
      charCounter.textContent = "0 / 500";
      const statusDiv = document.getElementById("status");
      statusDiv.style.display = "none";
      statusDiv.textContent = "";
    });

    // Submit
    const form = document.getElementById("feedbackForm");
    const statusDiv = document.getElementById("status");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      if (!ratingInput.value) {
        statusDiv.textContent = "Please select a rating before submitting.";
        statusDiv.style.display = "block";
        statusDiv.style.background = "#fff6f6";
        statusDiv.style.color = "#7a1f1f";
        statusDiv.style.border = "1px solid #ffd8d8";
        return;
      }
      statusDiv.textContent = "Submitting feedback...";
      statusDiv.style.display = "block";
      statusDiv.style.background = "#fffef6";
      statusDiv.style.color = "#7a641f";
      statusDiv.style.border = "1px solid #fff1c2";

      // Simulate submission
      setTimeout(() => {
        statusDiv.textContent = "Thank you! Your feedback has been submitted successfully.";
        statusDiv.style.background = "#f6fff6";
        statusDiv.style.color = "#1f7a1f";
        statusDiv.style.border = "1px solid #d8ffd8";
      }, 1200);
    });
  </script>
</body>
</html>
