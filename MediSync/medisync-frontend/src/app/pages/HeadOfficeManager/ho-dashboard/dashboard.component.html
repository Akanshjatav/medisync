<div class="container page-head">
  <div class="breadcrumbs">Head Office / Dashboard</div>
  <div class="head-row">
    <!-- <div class="branch">
      ğŸ¢ Head Office Dashboard
    </div> -->
    <div class="tools">
      <span class="pill">Today: <span>{{ todayLabel() }}</span></span>
    </div>
  </div>
</div>

<!-- Error Notice -->
<div *ngIf="error()" class="container">
  <div class="error-box">
    <div class="error-icon">!</div>
    <div class="error-content">
      <div class="error-title">Error Loading Dashboard</div>
      <div class="error-desc">{{ error() }}</div>
    </div>
  </div>
  <button class="btn secondary" type="button" (click)="loadDashboard()">Retry</button>
</div>

<!-- Loading State -->
<div *ngIf="loading()" class="loading-container">
  <div class="loading-spinner"></div>
  <p class="loading-text">Loading dashboard data...</p>
</div>

<!-- Dashboard Content -->
<div *ngIf="!loading() && !error()" class="dispensing-grid">
  <!-- Left: KPIs and Metrics -->
  <div class="card">
    <div class="card-header">
      <span>ğŸ“Š Key Performance Indicators</span>
      <span class="batch-count-badge">Overview</span>
    </div>

    <div class="card-body">
      <!-- KPIs Grid -->
      <div class="stats-grid">
        <div class="metric-card">
          <div class="metric-icon">ğŸ‘¥</div>
          <div class="metric-content">
            <div class="metric-value">{{ summary()?.totalUsers ?? 0 }}</div>
            <div class="metric-label">Total Users</div>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-icon">ğŸ¢</div>
          <div class="metric-content">
            <div class="metric-value">{{ summary()?.activeBranches ?? 0 }}</div>
            <div class="metric-label">Active Branches</div>
          </div>
        </div>
         

        <div class="metric-card">
          <div class="metric-icon">ğŸ“Š</div>
          <div class="metric-content">
            <div class="metric-value">{{ summary()?.totalUsers ?? 0 }}</div>
            <div class="metric-label">Total Users</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Right: Quick Actions -->
  <div class="card">
    <div class="card-header">
      <span>âš¡ Quick Actions</span>
      <span class="batch-count-badge">Shortcuts</span>
    </div>

    <div class="card-body">
      <div class="quick-actions">
        <a class="action-btn" routerLink="/head-office/register-branch">
          <div class="action-icon">ğŸ¢</div>
          <div class="action-content">
            <div class="action-title">Register Branch</div>
            <div class="action-desc">Add a new branch location</div>
          </div>
        </a>

        <a class="action-btn" routerLink="/head-office/branches">
          <div class="action-icon">ğŸ“‹</div>
          <div class="action-content">
            <div class="action-title">Manage Branches</div>
            <div class="action-desc">View and manage all branches</div>
          </div>
        </a>

        <a class="action-btn" routerLink="/head-office/user-management">
          <div class="action-icon">ğŸ‘¥</div>
          <div class="action-content">
            <div class="action-title">User Management</div>
            <div class="action-desc">Manage system users</div>
          </div>
        </a>

        <a class="action-btn" routerLink="/head-office/reports">
          <div class="action-icon">ğŸ“ˆ</div>
          <div class="action-content">
            <div class="action-title">View Reports</div>
            <div class="action-desc">Analytics and insights</div>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>