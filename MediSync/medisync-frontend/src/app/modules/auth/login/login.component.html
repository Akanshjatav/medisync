<div class="auth-page" role="application" aria-label="Sign In">
  <a class="skip-link" href="#main">Skip to content</a>

  <main id="main" class="main" role="main" aria-label="Main content">
    <div class="auth-wrap">

      <div class="page-title">
        <div>
          <h2>Sign in</h2>
          <p>Access MediSync securely using your account credentials.</p>
        </div>

        <div class="top-actions">
          <a routerLink="/" aria-label="Go back">← Back</a>
        </div>
      </div>

      <section class="auth-grid" aria-label="Authentication section">
        <!-- Left: Login Form -->
        <div class="card">
          <h3>Sign in to MediSync</h3>
          <p class="sub">Use your Email and password to continue.</p>

          <!-- Offline notice -->
          <div class="notice warn" *ngIf="isOffline" role="status" aria-live="polite">
            <div class="icon">i</div>
            <div>
              <h4>You're offline</h4>
              <p>Sign‑in may fail until connectivity is restored.</p>
            </div>
          </div>

          <form class="auth-form" [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
            <div class="action">
              <h4 class="req-label">Email </h4>
              <input
                type="email"
                formControlName="email"
                placeholder="Email (e.g., storem01@gmail.com)"
                autocomplete="email"
                [attr.aria-invalid]="isInvalid('email')"
              />
              <p class="field-error" *ngIf="showFieldError('email')">
                {{ getEmailError() }}
              </p>
            </div>

            <div class="action">
              <h4 class="req-label">Password</h4>

              <input
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                placeholder="Enter your password"
                autocomplete="current-password"
                [attr.aria-invalid]="isInvalid('password')"
              />

              <button
                type="button"
                class="xbtn pw-toggle"
                (click)="togglePassword()"
                [attr.aria-pressed]="showPassword"
              >
                {{ showPassword ? 'Hide password' : 'Show password' }}
              </button>

              <div class="help-row">
                <!-- <a routerLink="/forgot-password">Forgot Password?</a> -->

                <!-- <label class="checkbox-row">
                  <input type="checkbox" formControlName="rememberMe" />
                  Remember me
                </label> -->

                <!-- ✅ NEW: Vendor login checkbox -->
                <label class="checkbox-row">
                  <input type="checkbox" formControlName="isVendor" />
                  Login as Vendor
                </label>
              </div>

              <p class="field-error" *ngIf="showFieldError('password')">
                {{ getPasswordError() }}
              </p>
            </div>

            <button type="submit" class="btn" style="width: 100%;">
              Sign in
            </button>


            <p class="hint" style="margin: 0;">
              New vendor?
              <a [routerLink]="['/vendor/register']">Register</a>
            </p>

            <!-- Success box -->
            <div class="alert success" *ngIf="successMessage" role="status" aria-live="polite">
              {{ successMessage }}
            </div>

            <!-- Error box -->
            <div class="alert" *ngIf="errorMessages.length" role="alert" aria-live="polite">
              <ul>
                <li *ngFor="let msg of errorMessages">{{ msg }}</li>
              </ul>
            </div>
          </form>
        </div>

        <!-- Right: Helpful info -->
        <div class="card">
          <h3>Quick tips</h3>
          <p class="sub">Common sign-in issues and fixes.</p>

          <div class="notice warn">
            <div class="icon">i</div>
            <div>
              <h4>Having trouble signing in?</h4>
              <p>Try resetting your password or check caps lock.</p>
            </div>
          </div>

          <div class="notice danger">
            <div class="icon">!</div>
            <div>
              <h4>Security reminder</h4>
              <p>Never share your password with anyone.</p>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>
</div>